<div class="container_department">

  <h2 class="container_department_title">
    Департаменты
  </h2>

  <hr>

  <ng-container *ngIf="dataIsLoading; else viewDepartmentBlock">

    <div class="loading_container">
      <div class="loading_bars_container">
        <div class="blockG" id="rotateG_01"></div>
        <div class="blockG" id="rotateG_02"></div>
        <div class="blockG" id="rotateG_03"></div>
        <div class="blockG" id="rotateG_04"></div>
        <div class="blockG" id="rotateG_05"></div>
        <div class="blockG" id="rotateG_06"></div>
        <div class="blockG" id="rotateG_07"></div>
        <div class="blockG" id="rotateG_08"></div>
      </div>
    </div>

  </ng-container>

  <ng-template #viewDepartmentBlock>

    <div class="container_add">

      <button class="btn_tool" (click)="AddNewGlobalDep()" matTooltip="Добавить" matTooltipClass="tooltip">
        <svg xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 489.8 489.8"
          style="enable-background:new 0 0 489.8 489.8;" xml:space="preserve">
          <g>
            <path d="M438.2,0H51.6C23.1,0,0,23.2,0,51.6v386.6c0,28.5,23.2,51.6,51.6,51.6h386.6c28.5,0,51.6-23.2,51.6-51.6V51.6
       C489.8,23.2,466.6,0,438.2,0z M465.3,438.2c0,14.9-12.2,27.1-27.1,27.1H51.6c-14.9,0-27.1-12.2-27.1-27.1V51.6
       c0-14.9,12.2-27.1,27.1-27.1h386.6c14.9,0,27.1,12.2,27.1,27.1V438.2z" />
            <path d="M337.4,232.7h-80.3v-80.3c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3v80.3h-80.3c-6.8,0-12.3,5.5-12.3,12.2
       c0,6.8,5.5,12.3,12.3,12.3h80.3v80.3c0,6.8,5.5,12.3,12.3,12.3s12.3-5.5,12.3-12.3v-80.3h80.3c6.8,0,12.3-5.5,12.3-12.3
       C349.7,238.1,344.2,232.7,337.4,232.7z" />
          </g>
        </svg>
      </button>

      <button class="btn_tool" (click)="fileInput.click()" matTooltip="Импорт" matTooltipClass="tooltip"
        [disabled]="!workerService.getViewDepartmentId() || fileIsPending">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
          <path d="M0 0h24v24H0z" fill="none" />
          <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" />
        </svg>
      </button>
      <input required hidden (change)="onFileSelected(fileInput)" name="newIcon" #fileInput type="file">

      <button class="btn_tool" (click)="exportDepartment()" matTooltip="Экспорт" matTooltipClass="tooltip"
        [disabled]="!workerService.getViewDepartmentId() || fileIsPending">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
          <path d="M0 0h24v24H0z" fill="none" />
          <path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z" />
        </svg>
      </button>

      <mat-radio-group class="radio_group" aria-label="type of file" [color]="'warn'" [(ngModel)]="selectedTypeFile">
        <mat-radio-button class="radio_btn" [value]="0">JSON</mat-radio-button>
        <mat-radio-button class="radio_btn" [value]="1">XML</mat-radio-button>
      </mat-radio-group>

    </div>

    <ng-container *ngFor="let dep of departments">

      <app-department-view [config]="dep"></app-department-view>

    </ng-container>

  </ng-template>

</div>